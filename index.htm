<!doctype html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0">
        <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection">
        <link type="text/css" rel="stylesheet" href="css/custom-styles.css">
        <script src="js/expiration-date.js" type="text/javascript"></script>
        <script src="js/localstorage.js" type="text/javascript"></script>
        <title>Your Life Has an Expiration Date</title>
    </head>
    <body>
        
        <div class="section no-pad-bot">
            <div class="container">
                <br>
                <!-- Does not really look good, maybe making this title will be a better idea. 
                    <h5 class="header center orange-text">Your Life Has an</h5>
                -->
                <h1 class="header center orange-text">Expiration Date</h1>
                <div class="row center">
                    <h5 class="header col s12 light">
                        I am a 
                        <b>
                            <a class="dropdown-trigger" href="#" data-target="dropdown-gender">male</a>
                        </b> and I was born on <br class="hide-on-med-and-up"><b>
                            <a id="dd-day" class="dropdown-trigger" href="#" data-target="dropdown-day">01</a>
                            /
                            <a id="dd-month" class="dropdown-trigger" href="#" data-target="dropdown-month">Jan</a>
                            /
                            <a id="dd-year" class="dropdown-trigger" href="#" data-target="dropdown-year">1994</a>
                        </b>
                    </h5>

                    <!-- DROPDOWN DATA SOURCE -->
                    <ul id="dropdown-gender" class="dropdown-content"><li><a href="#!">male</a></li><li><a href="#!">female</a></li><li><a href="#!">non-binary</a></li></ul>
                    <ul id="dropdown-day" class="dropdown-content"><li><a href="#!">01</a></li><li><a href="#!">02</a></li><li><a href="#!">03</a></li><li><a href="#!">04</a></li><li><a href="#!">05</a></li><li><a href="#!">06</a></li><li><a href="#!">07</a></li><li><a href="#!">08</a></li><li><a href="#!">09</a></li><li><a href="#!">10</a></li><li><a href="#!">11</a></li><li><a href="#!">12</a></li><li><a href="#!">13</a></li><li><a href="#!">14</a></li><li><a href="#!">15</a></li><li><a href="#!">16</a></li><li><a href="#!">17</a></li><li><a href="#!">18</a></li><li><a href="#!">19</a></li><li><a href="#!">20</a></li><li><a href="#!">21</a></li><li><a href="#!">22</a></li><li><a href="#!">23</a></li><li><a href="#!">24</a></li><li><a href="#!">25</a></li><li><a href="#!">26</a></li><li><a href="#!">27</a></li><li><a href="#!">28</a></li><li><a href="#!">29</a></li><li><a href="#!">30</a></li><li><a href="#!">31</a></li></ul>
                    <ul id="dropdown-month" class="dropdown-content"><li><a href="#!">Jan</a></li><li><a href="#!">Feb</a></li><li><a href="#!">Apr</a></li><li><a href="#!">Mar</a></li><li><a href="#!">May</a></li><li><a href="#!">Jun</a></li><li><a href="#!">Jul</a></li><li><a href="#!">Aug</a></li><li><a href="#!">Sep</a></li><li><a href="#!">Oct</a></li><li><a href="#!">Nov</a></li><li><a href="#!">Dec</a></li></ul>
                    <ul id="dropdown-year" class="dropdown-content"></ul><!-- Populated on DOMContentLoaded event. -->
                </div>
            </div>
        </div>

        <div class="section">
            <div class="container" id="expiration-date-container">
                <div class="row">
                    <div class="col s12 center">
                        <input type="button" id="visualize-button" value="Visualize" onclick="visualize();">
                        <div id="lifespan-visualization"></div>
                    </div>
                </div>
                
            </div>
        </div>
        
        <p>Control to update the date of one's demise.</p>

        <footer class="page-footer orange">
            <div class="container">
                <div class="row">
                    <div class="col l6 s12">
                        <h4>References</h4>
                        <p>
                            <ul>
                                    <li>Average male lifespan paper, Author Name, 2019</li>
                                    <li>Average female lifespan paper, Author Name, 2019</li>
                            </ul>
                        </p>
                    </div>
                    
                    <div class="col l6 s12"><!-- Empty placeholder --></div>                    
                </div>
            </div>
            <div class="footer-copyright">
                <div class="container">
                    &copy; 2019 
                    <a class="grey-text text-lighten-4" href="https://danieldusek.com">Daniel Dušek</a>,
                    <a class="grey-text text-lighten-4" href="http://annapopkova.com/">Anna Popková</a>
                </div>
            </div>
        </footer>


        <!-- Materialize JS should be included before the end of the body. -->
        <script type="text/javascript" src="js/materialize.min.js"></script>
        <script type="text/javascript">

        
        document.addEventListener('DOMContentLoaded', () => {
            // Populate the year dropdown    
            let parent = document.getElementById("dropdown-year");
            let year = (new Date()).getFullYear();
            let allowedMaxAge = 75;
            for (let i = year; i >= year - allowedMaxAge; i--) {
                let li = document.createElement("li");
                let a = document.createElement("a");
                a.setAttribute("href", "#!");
                a.innerText = i;
                
                li.appendChild(a)
                parent.appendChild(li);
            }
        });

        // Initialize dynamic materialize css elements
        document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('select');
        var instances = M.FormSelect.init(elems);
        });

        document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.dropdown-trigger');
        var instances = M.Dropdown.init(elems, {'coverTrigger': false, 'constrainWidth': false, 'closeOnClick': true});
        });
        </script>
    </body>
</html>